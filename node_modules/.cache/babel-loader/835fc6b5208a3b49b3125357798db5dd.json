{"remainingRequest":"/Users/yoon/jz-video/node_modules/babel-loader/lib/index.js!/Users/yoon/jz-video/node_modules/eslint-loader/index.js??ref--13-0!/Users/yoon/jz-video/src/service/base/clipper.js","dependencies":[{"path":"/Users/yoon/jz-video/src/service/base/clipper.js","mtime":1582721375160},{"path":"/Users/yoon/jz-video/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yoon/jz-video/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yoon/jz-video/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwiOwoKLyoqCiAqCW5hbWUgOiB2dWUg55qE5Zu+54mH6KOB5YeP5Y6L57yp5aSE55CGCiAqICAgZGVwZW5kZW5jZSA6CiAqICAgICAgIGNyb3BwZXIg56ys5LiJ5pa555qE5LiA5Liq6KOB5Ymq5bqTCiAqICAgICAgIGV4aWYgICAg6I635Y+W5Zu+54mH5rqQ5L+h5oGv77yM6Kej5YazaW9z5Zu+54mH5peL6L2s55qE6Zeu6aKYCiAqICovCmltcG9ydCBDcm9wcGVyIGZyb20gJ2Nyb3BwZXJqcyc7CmltcG9ydCBFeGlmIGZyb20gJ2V4aWYtanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgaW5zdGFsbDogZnVuY3Rpb24gaW5zdGFsbChWdWUpIHsKICAgIC8v5Yid5aeL5YyW5pa55rOVCiAgICBWdWUucHJvdG90eXBlLmluaXRpbGl6ZSA9IGZ1bmN0aW9uIChvcHQpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB0aGlzLm9wdGlvbnMgPSBvcHQ7IC8v5Yib5bu6ZG9tCgogICAgICB0aGlzLmNyZWF0ZUVsZW1lbnQoKTsKICAgICAgdGhpcy5yZXN1bHRPYmogPSBvcHQucmVzdWx0T2JqOyAvL+WIneWni+WMluijgeWJquWvueixoQoKICAgICAgdGhpcy5jcm9wcGVyID0gbmV3IENyb3BwZXIodGhpcy5wcmV2aWV3LCB7CiAgICAgICAgYXNwZWN0UmF0aW86IG9wdC5hc3BlY3RSYXRpbyB8fCAxLAogICAgICAgIGF1dG9Dcm9wQXJlYTogb3B0LmF1dG9Dcm9wQXJlYSB8fCAwLjgsCiAgICAgICAgdmlld01vZGU6IDEsCiAgICAgICAgZ3VpZGVzOiBvcHQuYXNwZWN0UmF0aW8gPT0gJ0ZyZWUnID8gZmFsc2UgOiB0cnVlLAogICAgICAgIGNyb3BCb3hSZXNpemFibGU6IG9wdC5hc3BlY3RSYXRpbyA9PSAnRnJlZScgPyBmYWxzZSA6IHRydWUsCiAgICAgICAgY3JvcEJveE1vdmFibGU6IG9wdC5hc3BlY3RSYXRpbyA9PSAnRnJlZScgPyBmYWxzZSA6IHRydWUsCiAgICAgICAgZHJhZ0Nyb3A6IG9wdC5hc3BlY3RSYXRpbyA9PSAnRnJlZScgPyBmYWxzZSA6IHRydWUsCiAgICAgICAgYmFja2dyb3VuZDogZmFsc2UsCiAgICAgICAgY2hlY2tPcmllbnRhdGlvbjogdHJ1ZSwKICAgICAgICBjaGVja0Nyb3NzT3JpZ2luOiB0cnVlLAogICAgICAgIHpvb21hYmxlOiBmYWxzZSwKICAgICAgICB6b29tT25XaGVlbDogZmFsc2UsCiAgICAgICAgY2VudGVyOiBmYWxzZSwKICAgICAgICB0b2dnbGVEcmFnTW9kZU9uRGJsY2xpY2s6IGZhbHNlLAogICAgICAgIHJlYWR5OiBmdW5jdGlvbiByZWFkeSgpIHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHNlbGYuY3JvcHBlci5yb3RhdGUoOTApKQogICAgICAgICAgaWYgKG9wdC5hc3BlY3RSYXRpbyA9PSAnRnJlZScpIHsKICAgICAgICAgICAgdmFyIGNyb3BCb3ggPSBzZWxmLmNyb3BwZXIuY3JvcEJveDsKICAgICAgICAgICAgY3JvcEJveC5xdWVyeVNlbGVjdG9yKCdzcGFuLmNyb3BwZXItdmlldy1ib3gnKS5zdHlsZS5vdXRsaW5lID0gJ25vbmUnOwogICAgICAgICAgICBzZWxmLmNyb3BwZXIuZGlzYWJsZSgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9OyAvL+WIm+W7uuS4gOS6m+W/heimgeeahERPTe+8jOeUqOS6juWbvueJh+ijgeWJqgoKCiAgICBWdWUucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIC8v5Yid5aeL5YyW5Zu+54mH5Li656m65a+56LGhCiAgICAgIHRoaXMucHJldmlldyA9IG51bGw7CiAgICAgIHZhciBzdHIgPSAnPGRpdj48aW1nIGlkPSJjbGlwX2ltYWdlIiBzcmM9Im9yaWdpblVybCI+PC9kaXY+PGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSJjYW5jZWxfY2xpcCI+5Y+W5raIPC9idXR0b24+PGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSJjbGlwX2J1dHRvbiI+56Gu5a6aPC9idXR0b24+JzsKICAgICAgc3RyICs9ICc8ZGl2IGNsYXNzPSJjcm9wX2xvYWRpbmciPjxkaXYgY2xhc3M9ImNyb3BfY29udGVudCI+PGltZyBzcmM9Ii4uL3N0YXRpYy9sb2FkaW5nLmdpZiI+PGRpdiBjbGFzcz0iY3JvcF90ZXh0Ij7lm77niYfkuIrkvKDkuK08L2Rpdj48L2Rpdj48L2Rpdj4nOwogICAgICBzdHIgKz0gJzxkaXYgY2xhc3M9ImNyb3Bfc3VjY2VzcyI+PGRpdiBjbGFzcz0iY3JvcF9zdWNjZXNzX3RleHQiPuS4iuS8oOaIkOWKnzwvZGl2PjwvZGl2PjwvZGl2Pic7CiAgICAgIHZhciBib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXTsKICAgICAgdGhpcy5yZWFnaW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgIHRoaXMucmVhZ2lvbi5pZCA9ICdjbGlwX2NvbnRhaW5lcic7CiAgICAgIHRoaXMucmVhZ2lvbi5jbGFzc05hbWUgPSAnY29udGFpbmVyJzsKICAgICAgdGhpcy5yZWFnaW9uLmlubmVySFRNTCA9IHN0cjsgLy/mt7vliqDliJvlu7rlpb3nmoRET03lhYPntKAKCiAgICAgIGJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZWFnaW9uKTsKICAgICAgdGhpcy5wcmV2aWV3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NsaXBfaW1hZ2UnKTsgLy/nu5HlrprkuIDkupvmlrnms5UKCiAgICAgIHRoaXMuaW5pdEZ1bmN0aW9uKCk7CiAgICB9OyAvL+WIneWni+WMluS4gOS6m+WHveaVsOe7keWumgoKCiAgICBWdWUucHJvdG90eXBlLmluaXRGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB0aGlzLmNsaWNrQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NsaXBfYnV0dG9uJyk7CiAgICAgIHRoaXMuY2FuY2VsQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbmNlbF9jbGlwJyk7IC8v56Gu5a6a5LqL5Lu2CgogICAgICB0aGlzLmFkZEV2ZW50KHRoaXMuY2xpY2tCdG4sICdjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICBzZWxmLmNyb3AoKTsKICAgICAgfSk7IC8v5Y+W5raI5LqL5Lu2CgogICAgICB0aGlzLmFkZEV2ZW50KHRoaXMuY2FuY2VsQnRuLCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgc2VsZi5kZXN0b3JpZWQoKTsKICAgICAgfSk7IC8v5riF56m6aW5wdXTnmoTlgLwKCiAgICAgIHRoaXMuYWRkRXZlbnQodGhpcy5maWxlT2JqLCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy52YWx1ZSA9ICcnOwogICAgICB9KTsKICAgIH07IC8v5aSW6YOo5o6l5Y+j77yM55So5LqOaW5wdXRbJ2ZpbGUnXeWvueixoWNoYW5nZeaXtueahOiwg+eUqAoKCiAgICBWdWUucHJvdG90eXBlLmNsaXAgPSBmdW5jdGlvbiAoZSwgb3B0KSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdGhpcy5maWxlT2JqID0gZS5zcmNFbGVtZW50OwogICAgICB2YXIgZmlsZXMgPSBlLnRhcmdldC5maWxlcyB8fCBlLmRhdGFUcmFuc2Zlci5maWxlczsKICAgICAgaWYgKCFmaWxlcy5sZW5ndGgpIHJldHVybiBmYWxzZTsgLy/kuI3mmK/lm77niYfnm7TmjqXov5Tlm54KICAgICAgLy/osIPnlKjliJ3lp4vljJbmlrnms5UKCiAgICAgIHRoaXMuaW5pdGlsaXplKG9wdCk7IC8v6I635Y+W5Zu+54mH5paH5Lu26LWE5rqQCgogICAgICB0aGlzLnBpY1ZhbHVlID0gZmlsZXNbMF07IC8v5Y676I635Y+W5ouN54Wn5pe255qE5L+h5oGv77yM6Kej5Yaz5ouN5Ye65p2l55qE54Wn54mH5peL6L2s6Zeu6aKYCiAgICAgIC8vIEV4aWYuZ2V0RGF0YSggZmlsZXNbMF0gLCBmdW5jdGlvbigpewogICAgICAvLyAgIHNlbGYuT3JpZW50YXRpb24gPSBFeGlmLmdldFRhZyggZmlsZXNbMF0sICdPcmllbnRhdGlvbicpOwogICAgICAvLyAgIGNvbnNvbGUubG9nKHNlbGYuT3JpZW50YXRpb24pCiAgICAgIC8vIH0pOwogICAgICAvL+iwg+eUqOaWueazlei9rOaIkHVybOagvOW8jwoKICAgICAgdGhpcy5vcmlnaW5VcmwgPSB0aGlzLmdldE9iamVjdFVSTCh0aGlzLnBpY1ZhbHVlKTsgLy/mr4/mrKHmm7/mjaLlm77niYfopoHph43mlrDlvpfliLDmlrDnmoR1cmwKCiAgICAgIGlmICh0aGlzLmNyb3BwZXIpIHsKICAgICAgICB0aGlzLmNyb3BwZXIucmVwbGFjZSh0aGlzLm9yaWdpblVybCk7CiAgICAgIH0KICAgIH07IC8v5Zu+54mH6L2s56CB5pa55rOVCgoKICAgIFZ1ZS5wcm90b3R5cGUuZ2V0T2JqZWN0VVJMID0gZnVuY3Rpb24gKGZpbGUpIHsKICAgICAgdmFyIHVybCA9IG51bGw7CgogICAgICBpZiAod2luZG93LmNyZWF0ZU9iamVjdFVSTCAhPSB1bmRlZmluZWQpIHsKICAgICAgICAvLyBiYXNpYwogICAgICAgIHVybCA9IHdpbmRvdy5jcmVhdGVPYmplY3RVUkwoZmlsZSk7CiAgICAgIH0gZWxzZSBpZiAod2luZG93LlVSTCAhPSB1bmRlZmluZWQpIHsKICAgICAgICAvLyBtb3ppbGxhKGZpcmVmb3gpCiAgICAgICAgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7CiAgICAgIH0gZWxzZSBpZiAod2luZG93LndlYmtpdFVSTCAhPSB1bmRlZmluZWQpIHsKICAgICAgICAvLyB3ZWJraXQgb3IgY2hyb21lCiAgICAgICAgdXJsID0gd2luZG93LndlYmtpdFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB1cmw7CiAgICB9OyAvL+eCueWHu+ehruWumui/m+ihjOijgeWJqgoKCiAgICBWdWUucHJvdG90eXBlLmNyb3AgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7CiAgICAgIHZhciBjcm9wcGVkQ2FudmFzOwogICAgICB2YXIgcm91bmRlZENhbnZhczsgLy8gQ3JvcAoKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNyb3BfbG9hZGluZycpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBjcm9wcGVkQ2FudmFzID0gc2VsZi5jcm9wcGVyLmdldENyb3BwZWRDYW52YXMoKTsgLy8gUm91bmQKCiAgICAgICAgcm91bmRlZENhbnZhcyA9IHNlbGYuZ2V0Um91bmRlZENhbnZhcyhjcm9wcGVkQ2FudmFzKTsKICAgICAgICB2YXIgaW1nRGF0YSA9IHJvdW5kZWRDYW52YXMudG9EYXRhVVJMKCk7CiAgICAgICAgaW1hZ2Uuc3JjID0gaW1nRGF0YTsgLy/liKTmlq3lm77niYfmmK/lkKblpKfkuo4xMDBrLOS4jeWkp+S6juebtOaOpeS4iuS8oO+8jOWPjeS5i+WOi+e8qQoKICAgICAgICBpZiAoaW1nRGF0YS5sZW5ndGggPCAxMDAgKiAxMDI0KSB7CiAgICAgICAgICBzZWxmLnJlc3VsdE9iai5zcmMgPSBpbWdEYXRhOyAvL+WbvueJh+S4iuS8oAoKICAgICAgICAgIHNlbGYucG9zdEltZyhpbWdEYXRhKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvL+WOi+e8qeWkhOeQhgogICAgICAgICAgICB2YXIgZGF0YSA9IHNlbGYuY29tcHJlc3MoaW1hZ2UsIHNlbGYuT3JpZW50YXRpb24pOwogICAgICAgICAgICBzZWxmLnJlc3VsdE9iai5zcmMgPSBkYXRhOyAvL+WbvueJh+S4iuS8oAoKICAgICAgICAgICAgc2VsZi5wb3N0SW1nKGRhdGEpOwogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH0sIDIwKTsKICAgIH07IC8v6I635Y+W6KOB5Ymq5Zu+54mH6LWE5rqQCgoKICAgIFZ1ZS5wcm90b3R5cGUuZ2V0Um91bmRlZENhbnZhcyA9IGZ1bmN0aW9uIChzb3VyY2VDYW52YXMpIHsKICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICB2YXIgd2lkdGggPSBzb3VyY2VDYW52YXMud2lkdGg7CiAgICAgIHZhciBoZWlnaHQgPSBzb3VyY2VDYW52YXMuaGVpZ2h0OwogICAgICBjYW52YXMud2lkdGggPSB3aWR0aDsKICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDsKICAgICAgY29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSB0cnVlOwogICAgICBjb250ZXh0LmRyYXdJbWFnZShzb3VyY2VDYW52YXMsIDAsIDAsIHdpZHRoLCBoZWlnaHQpOwogICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdkZXN0aW5hdGlvbi1pbic7CiAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7CiAgICAgIGNvbnRleHQucmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgY29udGV4dC5maWxsKCk7CiAgICAgIHJldHVybiBjYW52YXM7CiAgICB9OyAvL+mUgOavgeWOn+adpeeahOWvueixoQoKCiAgICBWdWUucHJvdG90eXBlLmRlc3RvcmllZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOyAvL+enu+mZpOS6i+S7tgoKICAgICAgdGhpcy5yZW1vdmVFdmVudCh0aGlzLmNsaWNrQnRuLCAnY2xpY2snLCBudWxsKTsKICAgICAgdGhpcy5yZW1vdmVFdmVudCh0aGlzLmNhbmNlbEJ0biwgJ2NsaWNrJywgbnVsbCk7CiAgICAgIHRoaXMucmVtb3ZlRXZlbnQodGhpcy5maWxlT2JqLCAnY2xpY2snLCBudWxsKTsgLy/np7vpmaToo4HliarmoYYKCiAgICAgIHRoaXMucmVhZ2lvbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucmVhZ2lvbik7IC8v6ZSA5q+B6KOB5Ymq5a+56LGhCgogICAgICB0aGlzLmNyb3BwZXIuZGVzdHJveSgpOwogICAgICB0aGlzLmNyb3BwZXIgPSBudWxsOwogICAgfTsgLy/lm77niYfkuIrkvKAKCgogICAgVnVlLnByb3RvdHlwZS5wb3N0SW1nID0gZnVuY3Rpb24gKGltYWdlRGF0YSkgewogICAgICAvL+i/mei+ueWGmeWbvueJh+eahOS4iuS8oAogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHNlbGYuZGVzdG9yaWVkKCk7CiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY3JvcF9sb2FkaW5nJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY3JvcF9zdWNjZXNzJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7IC8v6KOB5Ymq5a6M5ZCO5pGn5q+B5a+56LGhCgogICAgICAgIHNlbGYuZGVzdG9yaWVkKCk7CiAgICAgIH0sIDMwMDApOwogICAgfTsgLy/lm77niYfml4vovawKCgogICAgVnVlLnByb3RvdHlwZS5yb3RhdGVJbWcgPSBmdW5jdGlvbiAoaW1nLCBkaXJlY3Rpb24sIGNhbnZhcykgewogICAgICAvL+acgOWwj+S4juacgOWkp+aXi+i9rOaWueWQke+8jOWbvueJh+aXi+i9rDTmrKHlkI7lm57liLDljp/mlrnlkJEKICAgICAgdmFyIG1pbl9zdGVwID0gMDsKICAgICAgdmFyIG1heF9zdGVwID0gMzsKICAgICAgaWYgKGltZyA9PSBudWxsKSByZXR1cm47IC8vaW1n55qE6auY5bqm5ZKM5a695bqm5LiN6IO95ZyoaW1n5YWD57Sg6ZqQ6JeP5ZCO6I635Y+W77yM5ZCm5YiZ5Lya5Ye66ZSZCgogICAgICB2YXIgaGVpZ2h0ID0gaW1nLmhlaWdodDsKICAgICAgdmFyIHdpZHRoID0gaW1nLndpZHRoOwogICAgICB2YXIgc3RlcCA9IDI7CgogICAgICBpZiAoc3RlcCA9PSBudWxsKSB7CiAgICAgICAgc3RlcCA9IG1pbl9zdGVwOwogICAgICB9CgogICAgICBpZiAoZGlyZWN0aW9uID09ICdyaWdodCcpIHsKICAgICAgICBzdGVwKys7IC8v5peL6L2s5Yiw5Y6f5L2N572u77yM5Y2z6LaF6L+H5pyA5aSn5YC8CgogICAgICAgIHN0ZXAgPiBtYXhfc3RlcCAmJiAoc3RlcCA9IG1pbl9zdGVwKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzdGVwLS07CiAgICAgICAgc3RlcCA8IG1pbl9zdGVwICYmIChzdGVwID0gbWF4X3N0ZXApOwogICAgICB9IC8v5peL6L2s6KeS5bqm5Lul5byn5bqm5YC85Li65Y+C5pWwCgoKICAgICAgdmFyIGRlZ3JlZSA9IHN0ZXAgKiA5MCAqIE1hdGguUEkgLyAxODA7CiAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKCiAgICAgIHN3aXRjaCAoc3RlcCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoOwogICAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDsKICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDE6CiAgICAgICAgICBjYW52YXMud2lkdGggPSBoZWlnaHQ7CiAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gd2lkdGg7CiAgICAgICAgICBjdHgucm90YXRlKGRlZ3JlZSk7CiAgICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgLWhlaWdodCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7CiAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0OwogICAgICAgICAgY3R4LnJvdGF0ZShkZWdyZWUpOwogICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIC13aWR0aCwgLWhlaWdodCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FudmFzLndpZHRoID0gaGVpZ2h0OwogICAgICAgICAgY2FudmFzLmhlaWdodCA9IHdpZHRoOwogICAgICAgICAgY3R4LnJvdGF0ZShkZWdyZWUpOwogICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIC13aWR0aCwgMCk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfTsgLy/lm77niYfljovnvKkKCgogICAgVnVlLnByb3RvdHlwZS5jb21wcmVzcyA9IGZ1bmN0aW9uIChpbWcsIE9yaWVudGF0aW9uKSB7CiAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTsKICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOyAvL+eTpueJh2NhbnZhcwoKICAgICAgdmFyIHRDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTsKICAgICAgdmFyIHRjdHggPSB0Q2FudmFzLmdldENvbnRleHQoIjJkIik7CiAgICAgIHZhciBpbml0U2l6ZSA9IGltZy5zcmMubGVuZ3RoOwogICAgICB2YXIgd2lkdGggPSBpbWcud2lkdGg7CiAgICAgIHZhciBoZWlnaHQgPSBpbWcuaGVpZ2h0OyAvL+WmguaenOWbvueJh+Wkp+S6juWbm+eZvuS4h+WDj+e0oO+8jOiuoeeul+WOi+e8qeavlOW5tuWwhuWkp+Wwj+WOi+iHszQwMOS4h+S7peS4iwoKICAgICAgdmFyIHJhdGlvOwoKICAgICAgaWYgKChyYXRpbyA9IHdpZHRoICogaGVpZ2h0IC8gNDAwMDAwMCkgPiAxKSB7CiAgICAgICAgY29uc29sZS5sb2coIuWkp+S6jjQwMOS4h+WDj+e0oCIpOwogICAgICAgIHJhdGlvID0gTWF0aC5zcXJ0KHJhdGlvKTsKICAgICAgICB3aWR0aCAvPSByYXRpbzsKICAgICAgICBoZWlnaHQgLz0gcmF0aW87CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmF0aW8gPSAxOwogICAgICB9CgogICAgICBjYW52YXMud2lkdGggPSB3aWR0aDsKICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDsgLy8gICAgICAgIOmTuuW6leiJsgoKICAgICAgY3R4LmZpbGxTdHlsZSA9ICIjZmZmIjsKICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7IC8v5aaC5p6c5Zu+54mH5YOP57Sg5aSn5LqOMTAw5LiH5YiZ5L2/55So55Om54mH57uY5Yi2CgogICAgICB2YXIgY291bnQ7CgogICAgICBpZiAoKGNvdW50ID0gd2lkdGggKiBoZWlnaHQgLyAxMDAwMDAwKSA+IDEpIHsKICAgICAgICBjb3VudCA9IH5+KE1hdGguc3FydChjb3VudCkgKyAxKTsgLy/orqHnrpfopoHliIbmiJDlpJrlsJHlnZfnk6bniYcKICAgICAgICAvLyAgICAgICAgICAgIOiuoeeul+avj+Wdl+eTpueJh+eahOWuveWSjOmrmAoKICAgICAgICB2YXIgbncgPSB+fih3aWR0aCAvIGNvdW50KTsKICAgICAgICB2YXIgbmggPSB+fihoZWlnaHQgLyBjb3VudCk7CiAgICAgICAgdENhbnZhcy53aWR0aCA9IG53OwogICAgICAgIHRDYW52YXMuaGVpZ2h0ID0gbmg7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykgewogICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb3VudDsgaisrKSB7CiAgICAgICAgICAgIHRjdHguZHJhd0ltYWdlKGltZywgaSAqIG53ICogcmF0aW8sIGogKiBuaCAqIHJhdGlvLCBudyAqIHJhdGlvLCBuaCAqIHJhdGlvLCAwLCAwLCBudywgbmgpOwogICAgICAgICAgICBjdHguZHJhd0ltYWdlKHRDYW52YXMsIGkgKiBudywgaiAqIG5oLCBudywgbmgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCwgd2lkdGgsIGhlaWdodCk7CiAgICAgIH0gLy/kv67lpI1pb3PkuIrkvKDlm77niYfnmoTml7blgJkg6KKr5peL6L2s55qE6Zeu6aKYCgoKICAgICAgaWYgKE9yaWVudGF0aW9uICE9ICIiICYmIE9yaWVudGF0aW9uICE9IDEpIHsKICAgICAgICBzd2l0Y2ggKE9yaWVudGF0aW9uKSB7CiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIC8v6ZyA6KaB6aG65pe26ZKI77yI5ZCR5bem77yJOTDluqbml4vovawKICAgICAgICAgICAgdGhpcy5yb3RhdGVJbWcoaW1nLCAnbGVmdCcsIGNhbnZhcyk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgLy/pnIDopoHpgIbml7bpkojvvIjlkJHlj7PvvIk5MOW6puaXi+i9rAogICAgICAgICAgICB0aGlzLnJvdGF0ZUltZyhpbWcsICdyaWdodCcsIGNhbnZhcyk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgLy/pnIDopoExODDluqbml4vovawKICAgICAgICAgICAgdGhpcy5yb3RhdGVJbWcoaW1nLCAncmlnaHQnLCBjYW52YXMpOyAvL+i9rOS4pOasoQoKICAgICAgICAgICAgdGhpcy5yb3RhdGVJbWcoaW1nLCAncmlnaHQnLCBjYW52YXMpOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0gLy/ov5vooYzmnIDlsI/ljovnvKkKCgogICAgICB2YXIgbmRhdGEgPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9qcGVnJywgMC4xKTsKICAgICAgY29uc29sZS5sb2coJ+WOi+e8qeWJje+8micgKyBpbml0U2l6ZSk7CiAgICAgIGNvbnNvbGUubG9nKCfljovnvKnlkI7vvJonICsgbmRhdGEubGVuZ3RoKTsKICAgICAgY29uc29sZS5sb2coJ+WOi+e8qeeOh++8micgKyB+figxMDAgKiAoaW5pdFNpemUgLSBuZGF0YS5sZW5ndGgpIC8gaW5pdFNpemUpICsgIiUiKTsKICAgICAgdENhbnZhcy53aWR0aCA9IHRDYW52YXMuaGVpZ2h0ID0gY2FudmFzLndpZHRoID0gY2FudmFzLmhlaWdodCA9IDA7CiAgICAgIHJldHVybiBuZGF0YTsKICAgIH07IC8v5re75Yqg5LqL5Lu2CgoKICAgIFZ1ZS5wcm90b3R5cGUuYWRkRXZlbnQgPSBmdW5jdGlvbiAob2JqLCB0eXBlLCBmbikgewogICAgICBpZiAob2JqLmFkZEV2ZW50TGlzdGVuZXIpIHsKICAgICAgICBvYmouYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmbiwgZmFsc2UpOwogICAgICB9IGVsc2UgewogICAgICAgIG9iai5hdHRhY2hFdmVudCgnb24nICsgdHlwZSwgZm4pOwogICAgICB9CiAgICB9OyAvL+enu+mZpOS6i+S7tgoKCiAgICBWdWUucHJvdG90eXBlLnJlbW92ZUV2ZW50ID0gZnVuY3Rpb24gKG9iaiwgdHlwZSwgZm4pIHsKICAgICAgaWYgKG9iai5yZW1vdmVFdmVudExpc3RlbmVyKSB7CiAgICAgICAgb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgZm4sIGZhbHNlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvYmouZGV0YWNoRXZlbnQoJ29uJyArIHR5cGUsIGZuKTsKICAgICAgfQogICAgfTsKICB9Cn07"},{"version":3,"sources":["/Users/yoon/jz-video/src/service/base/clipper.js"],"names":["Cropper","Exif","install","Vue","prototype","initilize","opt","self","options","createElement","resultObj","cropper","preview","aspectRatio","autoCropArea","viewMode","guides","cropBoxResizable","cropBoxMovable","dragCrop","background","checkOrientation","checkCrossOrigin","zoomable","zoomOnWheel","center","toggleDragModeOnDblclick","ready","cropBox","querySelector","style","outline","disable","str","body","document","getElementsByTagName","reagion","id","className","innerHTML","appendChild","getElementById","initFunction","clickBtn","cancelBtn","addEvent","crop","destoried","fileObj","value","clip","e","srcElement","files","target","dataTransfer","length","picValue","originUrl","getObjectURL","replace","file","url","window","createObjectURL","undefined","URL","webkitURL","image","Image","croppedCanvas","roundedCanvas","display","setTimeout","getCroppedCanvas","getRoundedCanvas","imgData","toDataURL","src","postImg","onload","data","compress","Orientation","sourceCanvas","canvas","context","getContext","width","height","imageSmoothingEnabled","drawImage","globalCompositeOperation","beginPath","rect","fill","removeEvent","parentNode","removeChild","destroy","imageData","rotateImg","img","direction","min_step","max_step","step","degree","Math","PI","ctx","rotate","tCanvas","tctx","initSize","ratio","console","log","sqrt","fillStyle","fillRect","count","nw","nh","i","j","ndata","obj","type","fn","addEventListener","attachEvent","removeEventListener","detachEvent"],"mappings":"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","sourcesContent":["/**\n *\tname : vue 的图片裁减压缩处理\n *   dependence :\n *       cropper 第三方的一个裁剪库\n *       exif    获取图片源信息，解决ios图片旋转的问题\n * */\n\nimport Cropper from 'cropperjs'\nimport Exif from 'exif-js'\nexport default {\n  install( Vue ){\n    //初始化方法\n    Vue.prototype.initilize = function( opt ){\n      let self = this;\n      this.options = opt;\n      //创建dom\n      this.createElement();\n      this.resultObj = opt.resultObj;\n      //初始化裁剪对象\n      this.cropper = new Cropper( this.preview , {\n        aspectRatio : opt.aspectRatio || 1 ,\n        autoCropArea : opt.autoCropArea || 0.8 ,\n        viewMode : 1,\n        guides : opt.aspectRatio == 'Free' ? false : true ,\n        cropBoxResizable : opt.aspectRatio == 'Free' ? false : true ,\n        cropBoxMovable : opt.aspectRatio == 'Free' ? false : true ,\n        dragCrop : opt.aspectRatio == 'Free' ? false : true ,\n        background : false,\n        checkOrientation : true ,\n        checkCrossOrigin : true ,\n        zoomable : false,\n        zoomOnWheel : false ,\n        center : false ,\n        toggleDragModeOnDblclick : false ,\n        ready : function () {\n          // console.log(self.cropper.rotate(90))\n          if( opt.aspectRatio == 'Free' ){\n            let cropBox = self.cropper.cropBox;\n            cropBox.querySelector('span.cropper-view-box').style.outline = 'none';\n            self.cropper.disable();\n          }\n        }\n      });\n    }\n    //创建一些必要的DOM，用于图片裁剪\n    Vue.prototype.createElement = function () {\n      //初始化图片为空对象\n      this.preview = null;\n\n      let str = '<div><img id=\"clip_image\" src=\"originUrl\"></div><button type=\"button\" id=\"cancel_clip\">取消</button><button type=\"button\" id=\"clip_button\">确定</button>';\n      str+= '<div class=\"crop_loading\"><div class=\"crop_content\"><img src=\"../static/loading.gif\"><div class=\"crop_text\">图片上传中</div></div></div>';\n      str+= '<div class=\"crop_success\"><div class=\"crop_success_text\">上传成功</div></div></div>';\n\n      let body = document.getElementsByTagName('body')[0];\n      this.reagion = document.createElement('div');\n      this.reagion.id = 'clip_container';\n      this.reagion.className = 'container';\n      this.reagion.innerHTML = str;\n      //添加创建好的DOM元素\n      body.appendChild(this.reagion);\n      this.preview = document.getElementById('clip_image');\n\n      //绑定一些方法\n      this.initFunction();\n    }\n    //初始化一些函数绑定\n    Vue.prototype.initFunction = function  () {\n      let self =this;\n      this.clickBtn = document.getElementById('clip_button');\n      this.cancelBtn = document.getElementById('cancel_clip');\n      //确定事件\n      this.addEvent( this.clickBtn , 'click' , function () {\n        self.crop();\n      })\n      //取消事件\n      this.addEvent( this.cancelBtn , 'click' , function () {\n        self.destoried();\n      })\n      //清空input的值\n      this.addEvent( this.fileObj , 'click' , function () {\n        this.value = '';\n      })\n    }\n\n    //外部接口，用于input['file']对象change时的调用\n    Vue.prototype.clip = function ( e , opt ) {\n      let self = this;\n\n      this.fileObj = e.srcElement;\n\n      let files = e.target.files || e.dataTransfer.files;\n\n      if (!files.length) return false;  //不是图片直接返回\n\n      //调用初始化方法\n      this.initilize( opt );\n\n      //获取图片文件资源\n      this.picValue = files[0];\n\n      //去获取拍照时的信息，解决拍出来的照片旋转问题\n      // Exif.getData( files[0] , function(){\n      //   self.Orientation = Exif.getTag( files[0], 'Orientation');\n      //   console.log(self.Orientation)\n      // });\n\n\n      //调用方法转成url格式\n      this.originUrl = this.getObjectURL( this.picValue );\n\n      //每次替换图片要重新得到新的url\n      if(this.cropper){\n        this.cropper.replace(this.originUrl);\n      }\n\n    }\n    //图片转码方法\n    Vue.prototype.getObjectURL = function(file) {\n      let url = null ;\n      if (window.createObjectURL!=undefined) { // basic\n        url = window.createObjectURL(file) ;\n      } else if (window.URL!=undefined) { // mozilla(firefox)\n        url = window.URL.createObjectURL(file) ;\n      } else if (window.webkitURL!=undefined) { // webkit or chrome\n        url = window.webkitURL.createObjectURL(file) ;\n      }\n      return url ;\n    }\n    //点击确定进行裁剪\n    Vue.prototype.crop  = function () {\n      let self = this;\n      let image = new Image();\n      let croppedCanvas;\n      let roundedCanvas;\n\n      // Crop\n      document.querySelector('.crop_loading').style.display = 'block';\n\n      setTimeout(function () {\n        croppedCanvas = self.cropper.getCroppedCanvas();\n        // Round\n        roundedCanvas = self.getRoundedCanvas(croppedCanvas);\n\n        let imgData = roundedCanvas.toDataURL();\n        image.src = imgData;\n\n        //判断图片是否大于100k,不大于直接上传，反之压缩\n        if( imgData.length < (100 * 1024) ){\n          self.resultObj.src = imgData;\n          //图片上传\n          self.postImg( imgData );\n\n        }else{\n          image.onload = function () {\n            //压缩处理\n            let data = self.compress( image , self.Orientation );\n            self.resultObj.src = data;\n            //图片上传\n            self.postImg( data );\n          }\n        }\n      },20)\n    }\n    //获取裁剪图片资源\n    Vue.prototype.getRoundedCanvas = function(sourceCanvas) {\n\n      let canvas = document.createElement('canvas');\n      let context = canvas.getContext('2d');\n      let width = sourceCanvas.width;\n      let height = sourceCanvas.height;\n\n      canvas.width = width;\n      canvas.height = height;\n\n      context.imageSmoothingEnabled = true;\n      context.drawImage(sourceCanvas, 0, 0, width, height);\n      context.globalCompositeOperation = 'destination-in';\n      context.beginPath();\n      context.rect(0 , 0 , width , height );\n      context.fill();\n\n      return canvas;\n    }\n    //销毁原来的对象\n    Vue.prototype.destoried = function () {\n      let self = this;\n      //移除事件\n      this.removeEvent( this.clickBtn , 'click' , null );\n      this.removeEvent( this.cancelBtn , 'click' , null );\n      this.removeEvent( this.fileObj , 'click' , null );\n      //移除裁剪框\n      this.reagion.parentNode.removeChild(this.reagion);\n\n      //销毁裁剪对象\n      this.cropper.destroy();\n      this.cropper = null;\n    }\n    //图片上传\n    Vue.prototype.postImg = function( imageData ) {\n      //这边写图片的上传\n      let self = this;\n      self.destoried();\n\n      window.setTimeout( function () {\n        document.querySelector('.crop_loading').style.display = 'none';\n        document.querySelector('.crop_success').style.display = 'block';\n        //裁剪完后摧毁对象\n          self.destoried();\n      },3000)\n    }\n\n    //图片旋转\n    Vue.prototype.rotateImg = function( img ,  direction , canvas ) {\n      //最小与最大旋转方向，图片旋转4次后回到原方向\n      const min_step = 0;\n      const max_step = 3;\n      if (img == null )return;\n      //img的高度和宽度不能在img元素隐藏后获取，否则会出错\n      let height = img.height;\n      let width = img.width;\n      let step = 2;\n      if (step == null) {\n        step = min_step;\n      }\n      if ( direction == 'right') {\n        step++;\n        //旋转到原位置，即超过最大值\n        step > max_step && (step = min_step);\n      } else {\n        step--;\n        step < min_step && (step = max_step);\n      }\n      //旋转角度以弧度值为参数\n      let degree = step * 90 * Math.PI / 180;\n      let ctx = canvas.getContext('2d');\n      switch (step) {\n        case 0:\n          canvas.width = width;\n          canvas.height = height;\n          ctx.drawImage(img, 0, 0);\n          break;\n        case 1:\n          canvas.width = height;\n          canvas.height = width;\n          ctx.rotate(degree);\n          ctx.drawImage(img, 0, -height);\n          break;\n        case 2:\n          canvas.width = width;\n          canvas.height = height;\n          ctx.rotate(degree);\n          ctx.drawImage(img, -width, -height);\n          break;\n        case 3:\n          canvas.width = height;\n          canvas.height = width;\n          ctx.rotate(degree);\n          ctx.drawImage(img, -width, 0);\n          break;\n      }\n    }\n\n    //图片压缩\n    Vue.prototype.compress = function ( img , Orientation ) {\n      let canvas = document.createElement(\"canvas\");\n      let ctx = canvas.getContext('2d');\n      //瓦片canvas\n      let tCanvas = document.createElement(\"canvas\");\n      let tctx = tCanvas.getContext(\"2d\");\n      let initSize = img.src.length;\n      let width = img.width;\n      let height = img.height;\n\n      //如果图片大于四百万像素，计算压缩比并将大小压至400万以下\n      let ratio;\n      if ((ratio = width * height / 4000000) > 1) {\n        console.log(\"大于400万像素\")\n        ratio = Math.sqrt(ratio);\n        width /= ratio;\n        height /= ratio;\n      } else {\n        ratio = 1;\n      }\n      canvas.width = width;\n      canvas.height = height;\n      //        铺底色\n      ctx.fillStyle = \"#fff\";\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n      //如果图片像素大于100万则使用瓦片绘制\n      let count;\n      if ((count = width * height / 1000000) > 1) {\n        count = ~~(Math.sqrt(count) + 1); //计算要分成多少块瓦片\n        //            计算每块瓦片的宽和高\n        let nw = ~~(width / count);\n        let nh = ~~(height / count);\n        tCanvas.width = nw;\n        tCanvas.height = nh;\n        for (let i = 0; i < count; i++) {\n          for (let j = 0; j < count; j++) {\n            tctx.drawImage(img, i * nw * ratio, j * nh * ratio, nw * ratio, nh * ratio, 0, 0, nw, nh);\n            ctx.drawImage(tCanvas, i * nw, j * nh, nw, nh);\n          }\n        }\n      } else {\n        ctx.drawImage(img, 0, 0, width, height);\n      }\n      //修复ios上传图片的时候 被旋转的问题\n      if( Orientation != \"\" && Orientation != 1){\n        switch(Orientation){\n          case 6://需要顺时针（向左）90度旋转\n            this.rotateImg(img,'left',canvas);\n            break;\n          case 8://需要逆时针（向右）90度旋转\n            this.rotateImg(img,'right',canvas);\n            break;\n          case 3://需要180度旋转\n            this.rotateImg(img,'right',canvas);//转两次\n            this.rotateImg(img,'right',canvas);\n            break;\n        }\n      }\n      //进行最小压缩\n      let ndata = canvas.toDataURL( 'image/jpeg' , 0.1);\n      console.log('压缩前：' + initSize);\n      console.log('压缩后：' + ndata.length);\n      console.log('压缩率：' + ~~(100 * (initSize - ndata.length) / initSize) + \"%\");\n      tCanvas.width = tCanvas.height = canvas.width = canvas.height = 0;\n\n      return ndata;\n    }\n\n    //添加事件\n    Vue.prototype.addEvent = function ( obj , type , fn ) {\n      if( obj.addEventListener ){\n        obj.addEventListener( type , fn , false );\n      }else{\n        obj.attachEvent( 'on' + type , fn );\n      }\n    }\n    //移除事件\n    Vue.prototype.removeEvent = function ( obj , type , fn ) {\n      if( obj.removeEventListener ){\n        obj.removeEventListener( type , fn , false );\n      }else{\n        obj.detachEvent( 'on' + type , fn );\n      }\n    }\n  }\n}\n"]}]}